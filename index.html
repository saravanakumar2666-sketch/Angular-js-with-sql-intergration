<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contact Dashboard</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

  body {
    background-color: #111;
    color: #fff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px;
  }

  h1 { font-size: 2.5rem; color: #c62828; margin-bottom: 10px; text-shadow: 1px 1px 6px #000; }
  p { color: #bbb; margin-bottom: 20px; }

  /* Buttons */
  button {
    padding: 10px 16px;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
    background: linear-gradient(90deg, #b71c1c, #e53935);
    color: #fff;
    box-shadow: 0 4px 10px rgba(255,0,0,0.3);
  }
  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(255,0,0,0.5);
  }

  /* Input */
  input {
    padding: 10px 14px;
    margin: 5px;
    border-radius: 8px;
    border: 1px solid #333;
    background-color: #222;
    color: #fff;
    font-size: 1rem;
  }
  input::placeholder { color: #888; }

  #searchInput { width: 300px; margin-bottom: 20px; }

  /* Cards */
  .cards-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 40px;
  }
  .card {
    background: rgba(255,255,255,0.03);
    backdrop-filter: blur(8px);
    border-radius: 14px;
    padding: 18px;
    margin: 10px;
    width: 220px;
    transition: 0.3s;
    box-shadow: 0 6px 12px rgba(0,0,0,0.5);
  }
  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.6);
  }
  .card h3 { color: #b71c1c; margin-bottom: 6px; }
  .card p { color: #ccc; margin-bottom: 6px; }

  /* Table */
  table {
    width: 95%;
    border-collapse: collapse;
    background: rgba(255,255,255,0.03);
    backdrop-filter: blur(6px);
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 50px;
  }
  th, td { padding: 12px; border-bottom: 1px solid #333; color: #fff; }
  th { background-color: #1b1b1b; cursor: pointer; }
  tr:hover { background-color: rgba(255,255,255,0.05); }
  td input { width: 100%; padding: 6px; border-radius: 6px; background-color: #222; border: 1px solid #333; color: #fff; }

  /* Modal */
  .modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .modal-content {
    background: #1b1b1b;
    padding: 28px;
    border-radius: 14px;
    width: 400px;
    text-align: center;
    box-shadow: 0 6px 20px rgba(0,0,0,0.7);
    position: relative;
  }
  .modal-content input { width: 90%; margin-bottom: 12px; }
  .close-btn {
    position: absolute;
    top: 10px; right: 14px;
    font-size: 1.4rem;
    cursor: pointer;
    color: #fff;
  }
</style>
</head>
<body>

<h1>Contact Dashboard</h1>
<input type="text" id="searchInput" placeholder="Search name, email, phone" oninput="render()">
<button onclick="openModal()">Add User</button>

<h3>User Cards</h3>
<div class="cards-container" id="cardsContainer"></div>

<h3>Users Table</h3>
<table>
  <thead>
    <tr>
      <th onclick="sortBy('id')">ID</th>
      <th onclick="sortBy('name')">Name</th>
      <th onclick="sortBy('email')">Email</th>
      <th onclick="sortBy('phone')">Phone</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="usersTableBody"></tbody>
</table>

<div class="modal" id="userModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h2 id="modalTitle">Add User</h2>
    <input type="text" id="modalName" placeholder="Name">
    <input type="email" id="modalEmail" placeholder="Email">
    <input type="text" id="modalPhone" placeholder="Phone">
    <button onclick="saveUser()">Save</button>
  </div>
</div>

<script>
let users = [
  { id: 1, name: "saravana", email: "kumar@gmail.com", phone: "1234567890" },
  { id: 2, name: "ponkumar", email: "ponkumar@gmail.com", phone: "9876543210" },
  { id: 3, name: "karthi", email: "karthi@gmail.com", phone: "5555555555" }
];
let nextId = 4;
let sortField = 'id';
let ascending = true;
let editId = null;

function render() {
  const cardsContainer = document.getElementById('cardsContainer');
  const tableBody = document.getElementById('usersTableBody');
  const search = document.getElementById('searchInput').value.toLowerCase();

  let filteredUsers = users.filter(u => 
    u.name.toLowerCase().includes(search) || 
    u.email.toLowerCase().includes(search) || 
    u.phone.includes(search)
  );
  filteredUsers.sort((a,b) => ascending ? (a[sortField] > b[sortField]?1:-1) : (a[sortField]<b[sortField]?1:-1));

  cardsContainer.innerHTML = '';
  tableBody.innerHTML = '';

  filteredUsers.forEach(user => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<h3>${user.name}</h3><p>${user.email}</p><p>${user.phone}</p>
      <button onclick="editUser(${user.id})">Edit</button>
      <button onclick="deleteUser(${user.id})">Delete</button>`;
    cardsContainer.appendChild(card);

    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${user.id}</td>
      <td>${user.name}</td>
      <td>${user.email}</td>
      <td>${user.phone}</td>
      <td>
        <button onclick="editUser(${user.id})">Edit</button>
        <button onclick="deleteUser(${user.id})">Delete</button>
      </td>
    `;
    tableBody.appendChild(row);
  });
}

function openModal() {
  editId = null;
  document.getElementById('modalTitle').textContent = "Add User";
  document.getElementById('modalName').value = '';
  document.getElementById('modalEmail').value = '';
  document.getElementById('modalPhone').value = '';
  document.getElementById('userModal').style.display = 'flex';
}

function closeModal() {
  document.getElementById('userModal').style.display = 'none';
}

function saveUser() {
  const name = document.getElementById('modalName').value.trim();
  const email = document.getElementById('modalEmail').value.trim();
  const phone = document.getElementById('modalPhone').value.trim();
  if(!name || !email || !phone) { alert('Fill all fields'); return; }

  if(editId) {
    let user = users.find(u => u.id === editId);
    user.name = name; user.email = email; user.phone = phone;
  } else {
    users.push({id: nextId++, name, email, phone});
  }
  closeModal();
  render();
}

function editUser(id) {
  editId = id;
  const user = users.find(u => u.id === id);
  document.getElementById('modalTitle').textContent = "Edit User";
  document.getElementById('modalName').value = user.name;
  document.getElementById('modalEmail').value = user.email;
  document.getElementById('modalPhone').value = user.phone;
  document.getElementById('userModal').style.display = 'flex';
}

function deleteUser(id) {
  if(confirm('Are you sure?')) {
    users = users.filter(u => u.id !== id);
    render();
  }
}

function sortBy(field) {
  if(sortField === field) ascending = !ascending;
  else { sortField = field; ascending = true; }
  render();
}

render();
</script>

</body>
</html>

